"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[740],{740:function(t,e,r){r.r(e);var n=r(433),a=r(439),u=r(861),i=r(687),c=r.n(i),o=r(87),s=r(689),l=r(791),f=r(243),p=r(184);f.Z.defaults.baseURL="https://api.themoviedb.org/3/";var h="8378c884a6341b6bb6a7cfb362550079";function v(){return(v=(0,u.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.Z.get("search/movie?api_key=".concat(h,"&query=").concat(e,"&page=1"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}e.default=function(){var t,e=(0,l.useState)(""),r=(0,a.Z)(e,2),u=r[0],i=r[1],c=(0,l.useState)(""),f=(0,a.Z)(c,2),h=f[0],d=f[1],m=(0,l.useState)([]),g=(0,a.Z)(m,2),b=g[0],x=g[1],j=(0,o.lr)(),k=(0,a.Z)(j,2),w=k[0],y=k[1],Z=null!==(t=w.get("query"))&&void 0!==t?t:"",_=(0,s.TH)(),q=function(t){t&&function(t){return v.apply(this,arguments)}(t).then((function(t){var e=t.results.map((function(t){return{original_title:t.original_title,id:t.id}}));return console.log(e),{requestList:e}})).then((function(t){var e=t.requestList;x((0,n.Z)(e))})).catch((function(t){d(t.message)}))};(0,l.useEffect)((function(){q(Z)}),[Z]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==u.trim()?(console.log(u),q(u),y({query:u}),i("")):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441")},children:[(0,p.jsx)("input",{type:"text",value:u,onChange:function(t){var e=t.target.value;if(""===e)return i("");i(e)}}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),(0,p.jsx)("ul",{children:b.map((function(t){var e=t.id,r=t.original_title;return(0,p.jsx)("li",{children:(0,p.jsx)(o.rU,{to:"".concat(e),state:{from:_},children:r})},e)}))}),h&&(0,p.jsx)("p",{children:h})]})}}}]);
//# sourceMappingURL=740.17e59ef3.chunk.js.map