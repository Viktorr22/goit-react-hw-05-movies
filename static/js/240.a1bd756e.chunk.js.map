{"version":3,"file":"static/js/240.a1bd756e.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Pages/MovieDetails.styled.jsx","Pages/MovieDetails.jsx"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const FilmBox = styled.div`\n  display: flex;\n  gap: 20px;\n  padding: 20px;\n`;\n\nexport const BackLink = styled(Link)`\n  border: 1px solid;\n  width: 80px;\n  padding: 10px;\n  margin: 20px;\n  border-radius: 5px;\n  text-decoration: none;\n  background-color: #07e407;\n`;\n\nexport const SolidBox = styled.div`\n  border-bottom: 2px solid gray;\n`;\n","import { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { BackLink, FilmBox, SolidBox } from './MovieDetails.styled';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '8378c884a6341b6bb6a7cfb362550079';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w200/';\n\nasync function fetchFilm(id) {\n  try {\n    const responce = await axios.get(`movie/${id}?api_key=${API_KEY}`);\n    return responce.data;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n  const [movieInfo, setMovieInfo] = useState({});\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchFilm(movieId)\n      .then(\n        ({\n          genres,\n          id,\n          title,\n          poster_path,\n          overview,\n          release_date,\n          vote_average,\n        }) => {\n          const movieDet = {\n            genres,\n            id,\n            title,\n            poster_path,\n            overview,\n            release_date,\n            vote_average,\n          };\n          return { movieDet };\n        }\n      )\n      .then(({ movieDet }) => {\n        setMovieInfo({ ...movieDet });\n      })\n      .catch(error => {\n        setError(error.message);\n      });\n  }, [movieId]);\n\n  let date = movieInfo.release_date;\n  date = String(date).slice(0, 4);\n  let score = movieInfo.vote_average * 10;\n  score = String(score).slice(0, 2);\n\n  const { title, genres, overview, poster_path } = movieInfo;\n\n  return (\n    <>\n      <BackLink to={backLinkLocationRef.current}>Go back</BackLink>\n      {genres && (\n        <SolidBox>\n          <FilmBox>\n            <img src={IMAGE_BASE_URL + poster_path} alt={title} />\n            <div>\n              <h2>\n                {title}({date})\n              </h2>\n              <p>User Scores: {score}%</p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <p>{genres.map(genre => genre.name).join(', ')}</p>\n            </div>\n          </FilmBox>\n        </SolidBox>\n      )}\n      <SolidBox>\n        <h3>Additional information</h3>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        {error && <p>{error}</p>}\n      </SolidBox>\n\n      <Outlet />\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","FilmBox","styled","BackLink","Link","SolidBox","axios","API_KEY","fetchFilm","id","responce","data","Error","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useState","movieInfo","setMovieInfo","error","setError","useEffect","then","movieDet","genres","title","poster_path","overview","release_date","vote_average","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","catch","message","date","String","slice","score","to","current","src","alt","map","genre","name","join"],"sourceRoot":""}